<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Climb Log Manager</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
    <header class="topbar">
        <div class="brand">
            <h1>Climb Log Manager</h1>
            <p class="subtitle">Cloud-hosted CRUD via backend API</p>
        </div>

        <nav class="tabs" aria-label="Views">
            <button class="tab active" data-view="list">List</button>
            <button class="tab" data-view="form">Add / Edit</button>
            <button class="tab" data-view="stats">Stats</button>
        </nav>
    </header>

    <main class="container">
        <section id="view-list" class="view active">
            <div class="view-header">
                <h2>All Climbs</h2>
                <div class="actions">
                    <input id="searchInput" class="input" placeholder="Search route/location…" />
                    <button id="newBtn" class="btn primary">+ New Log</button>
                </div>
            </div>

        <div class="card">
            <table class="table" aria-label="Climb logs table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Env</th>
                        <th>Location</th>
                        <th>Route</th>
                        <th>Type</th>
                        <th>Grade</th>
                        <th>Progress</th>
                        <th class="right">Actions</th>
                    </tr>
                </thead>
                <tbody id="logsTbody"></tbody>
            </table>
        </div>

        <div class="paging">
            <button id="prevBtn" class="btn small" type="button">Previous</button>
            <span id="pageIndicator" class="muted">Page 1 of 1</span>
            <button id="nextBtn" class="btn small" type="button">Next</button>
        </div>
    </section>

    <section id="view-form" class="view">
        <div class="view-header">
            <h2 id="formTitle">Add Log</h2>
            <p class="hint">Fields marked * are required.</p>
        </div>

        <div class="card">
            <form id="logForm" novalidate>
                <input type="hidden" id="logId" />

                <div class="grid">
                    <label class="field">
                        <span>Date *</span>
                        <input id="date" type="date" required />
                        <small class="error" data-err-for="date"></small>
                    </label>

                    <label class="field">
                        <span>Environment *</span>
                        <select id="environment" required>
                            <option value="">Select…</option>
                            <option value="gym">Gym</option>
                            <option value="outdoor">Outdoor</option>
                        </select>
                        <small class="error" data-err-for="environment"></small>
                    </label>

                    <label class="field">
                        <span>Location *</span>
                        <input id="location" type="text" required />
                        <small class="error" data-err-for="location"></small>
                    </label>

                    <label class="field">
                        <span>Route Name *</span>
                        <input id="routeName" type="text" required />
                        <small class="error" data-err-for="routeName"></small>
                    </label>

                    <label class="field">
                        <span>Climb Type *</span>
                        <select id="climbType" required>
                            <option value="">Select…</option>
                            <option value="top-rope">Top Rope</option>
                            <option value="sport">Sport / Lead</option>
                            <option value="trad">Trad</option>
                            <option value="boulder">Bouldering</option>
                        </select>
                        <small class="error" data-err-for="climbType"></small>
                    </label>

                    <label class="field">
                        <span>Grade System *</span>
                        <select id="gradeSystem" required>
                            <option value="">Select…</option>
                            <option value="YDS">YDS (5.x)</option>
                            <option value="V">V-Scale (Vx)</option>
                        </select>
                        <small class="error" data-err-for="gradeSystem"></small>
                    </label>

                    <label class="field">
                        <span>Grade *</span>
                        <select id="grade" required>
                            <option value="">Select…</option>
                        </select>
                        <small class="error" data-err-for="grade"></small>
                    </label>

                    <label class="field">
                        <span>Progress *</span>
                        <select id="progress" required>
                            <option value="">Select…</option>
                            <option value="complete">Complete</option>
                            <option value="incomplete">Incomplete</option>
                        </select>
                        <small class="error" data-err-for="progress"></small>
                    </label>
                </div>

                <div class="form-actions">
                    <button type="button" id="cancelBtn" class="btn">Cancel</button>
                    <button type="submit" class="btn primary">Save</button>
                </div>
            </form>
        </div>
    </section>

    <section id="view-stats" class="view">
        <div class="view-header">
            <h2>Stats</h2>
            <p class="hint">Auto-updates as your data changes.</p>
        </div>

        <div class="stats-grid">
            <div class="card stat">
                <h3>Total Logs</h3>
                <p id="statTotal" class="stat-number">0</p>
            </div>

            <div class="card stat">
                <h3>Completion Rate</h3>
                <p id="statCompletion" class="stat-number">0%</p>
                <p class="muted">Domain-specific statistic</p>
            </div>

            <div class="card stat">
                <h3>By Type</h3>
                <ul id="statByType" class="stat-list"></ul>
            </div>
        </div>
    </section>
</main>

<div id="modalBackdrop" class="backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
        <h3 id="modalTitle">Delete log?</h3>
        <p id="modalText" class="muted">This can’t be undone.</p>
        <div class="modal-actions">
            <button id="deleteCancel" class="btn">Cancel</button>
            <button id="deleteConfirm" class="btn danger">Delete</button>
        </div>
    </div>
</div>
    <script>
        window.API_BASE_URL = "https://YOUR-BACKEND-HOST-HERE";
    </script>
    <script type="module" src="assets/js/app.js"></script>
</body>
</html>
